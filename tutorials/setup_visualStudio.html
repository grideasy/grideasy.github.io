<!DOCTYPE html><html><head lang="en"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>BabylonJS Documentation</title><link rel="shortcut icon" href="http://www.babylonjs.com/img/favicon/favicon.ico"><link rel="apple-touch-icon" sizes="57x57" href="http://www.babylonjs.com/img/favicon/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="http://www.babylonjs.com/img/favicon/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="http://www.babylonjs.com/img/favicon/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="http://www.babylonjs.com/img/favicon/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="http://www.babylonjs.com/img/favicon/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="http://www.babylonjs.com/img/favicon/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="http://www.babylonjs.com/img/favicon/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="http://www.babylonjs.com/img/favicon/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="http://www.babylonjs.com/img/favicon/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="http://www.babylonjs.com/img/favicon/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="http://www.babylonjs.com/img/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="http://www.babylonjs.com/img/favicon/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="http://www.babylonjs.com/img/favicon/favicon-16x16.png"><link rel="manifest" href="http://www.babylonjs.com/img/favicon/manifest.json"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="http://www.babylonjs.com/img/favicon/ms-icon-144x144.png"><meta name="msapplication-config" content="http://www.babylonjs.com/img/favicon/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css"><link rel="stylesheet" href="/css/libs/slideout.css"><link rel="stylesheet" href="/css/libs/highlight/github.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.3/css/perfect-scrollbar.min.css"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css"></head><body><nav id="menu"></nav><nav class="nav-main"><!-- Hamburger menu : displayed only in small screens--><i class="fa fa-bars" id="mobilemenu"></i><!-- this button only shows on mobile version of a "class" page--><div class="banner"><div class="menu"><div class="do-not-hover item"><a href="http://www.babylonjs.com">Babylon.js                    </a></div><div class="do-not-hover" id="home"><a href="/">DOCUMENTATION</a></div><div class="item" id="whatsnew"><a href="/whats-new">What's new</a></div><div class="item" id="overview"><a href="/overviews">Overviews       </a></div><div class="item" id="babylon101"><a href="/babylon101">Babylon 101</a></div><div class="item active" id="tutorials"><a href="/tutorials">Tutorials</a></div><div class="item" id="porters"><a href="/porters">porters</a></div><div class="item" id="extensions"><a href="/extensions">Extensions</a></div><div class="item" id="extensions"><a href="/samples">Samples        </a></div><div class="item" id="classes"><a href="/classes">Classes</a></div><div class="item" id="playground"><a href="/playground">Playground             </a></div></div><div class="more"><div class="searchbar"><form method="get" action="/search"><input type="text" name="q" placeholder="Search..."><button type="submit"><i class="fa fa-search"></i></button></form></div></div></div></nav><div id="wrapper"><div class="statics-banner"><h1>tutorials</h1></div><div class="horizontal-separator"></div><div class="static-content"><h1>Setup Visual Studio to Contribute to Babylon.js</h1><br><div class="contentTable"><div class="tocHeader"><span class="tocTitle"><i class="tocIcon fa fa-book"></i>Table of contents</span><span class="tocToggle"><i class="fa fa-arrow-up"></i></span></div><div class="tocContent"><ul>
<li><a href="#setup-visual-studio-to-contribute-to-babylonjs">Setup Visual Studio to contribute to Babylon.js</a></li>
<li><a href="#why">Why?</a></li>
<li><a href="#compilation-modes">Compilation modes</a><ul>
<li><a href="#release-mode">Release mode</a></li>
<li><a href="#development-mode">Development mode</a><ul>
<li><a href="#pros">Pros</a></li>
<li><a href="#cons">Cons</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#synopsis">Synopsis</a></li>
<li><a href="#1-clone-the-repositoty">1) Clone the repositoty</a></li>
<li><a href="#2-create-the-visual-studio-project">2) Create the Visual Studio project</a><ul>
<li><a href="#move-the-project-one-level-up">Move the project one level up</a></li>
<li><a href="#fix-the-visual-studio-solution-project">Fix the Visual Studio Solution &amp; Project</a></li>
</ul>
</li>
<li><a href="#3-include-the-babylonjs-source-code">3) Include the Babylon.js source code</a><ul>
<li><a href="#build">Build !</a></li>
</ul>
</li>
<li><a href="#4-create-a-small-sandbox">4) Create a small sandbox</a></li>
</ul>
</div></div><div id="staticContent"><h2><a name="why" class="anchor" href="#why"></a>Why?</h2><p>There are many IDE out there you can use to contribute to Babylon.js, Visual Studio being one of them.</p>
<p>With Visual Studio you will be able to build the library along with your custom code and being able to debug and test both of them.</p>
<h2><a name="compilation-modes" class="anchor" href="#compilation-modes"></a>Compilation modes</h2><p>Before going further you have to understand there are two compilation modes available to build Babylon.js.</p>
<h3><a name="release-mode" class="anchor" href="#release-mode"></a>Release mode</h3><p>You can use the <a href="https://github.com/BabylonJS/Babylon.js/tree/master/Tools/Gulp">Gulp</a> script to create the main release files (babylon.js, babylon.max.js, babylon.d.ts) that will be stored in the <a href="https://github.com/BabylonJS/Babylon.js/tree/master/dist/preview%20release">preview directory</a>. </p>
<p>This mode is generaly used to build a new version soon to be publicly released, the compilation takes some time so it&#39;s not suitable for developmenent/test roundtrips.</p>
<p><strong>Also note that you won&#39;t be able to debug the TypeScript code of Babylon.js, the debugger will always step into the main JavaScript file (i.e. Babylon.js).</strong></p>
<h3><a name="development-mode" class="anchor" href="#development-mode"></a>Development mode</h3><p>This mode is more suitable when you make changes in the library, instead of relying on Gulp to generate the release files you simply compile all the .ts files into .js (and .js.map) files.</p>
<h4><a name="pros" class="anchor" href="#pros"></a>Pros</h4><ul>
<li>The compilation is fast (it only compiles the .ts files to .js, there&#39;s no merging/minification)</li>
<li>You can debug the library in TypeScript, set breakpoints in the .ts files, etc.</li>
</ul>
<h4><a name="cons" class="anchor" href="#cons"></a>Cons</h4><ul>
<li>You must reference the approx 150 .js files of Babylon.js instead of the main file (i.e. Babylon.js)</li>
<li>A particular setup of the engine has to be made to make sure it works. </li>
<li>The whole library source files must be accessible and served by the Web Server.</li>
</ul>
<p>The up-to-date list of the .js files and indications about the Engine&#39;s setup can be found <a href="/generals/Creating_the_Mini-fied_Version">here</a></p>
<h2><a name="synopsis" class="anchor" href="#synopsis"></a>Synopsis</h2><p>Here are the macro steps of what we&#39;re going to do:</p>
<ul>
<li>Clone the Babylon.js repository localy</li>
<li>Create a Web Application project/solution, move it to the root of the Babylon.js repo and fix it</li>
<li>Include the Babylon.js source code in the web project.</li>
<li>Create a small TypeScript Sandbox</li>
</ul>
<h2><a name="1-clone-the-repositoty" class="anchor" href="#1-clone-the-repositoty"></a>1) Clone the repositoty</h2><p>Use <a href="http://cmder.net/">Cmder</a> or any Shell, go to the directory you want to clone your repo, then clone it.</p>
<p><img src="http://i.imgur.com/ROTb1fN.png" alt="GIT01"></p>
<p><img src="http://i.imgur.com/YhFVMbN.png" alt="GIT02"></p>
<p>By the way, you can find more info about contributing to Babylon.js <a href="http://pixelcodr.com/tutos/contribute/contribute.html">here</a></p>
<h2><a name="2-create-the-visual-studio-project" class="anchor" href="#2-create-the-visual-studio-project"></a>2) Create the Visual Studio project</h2><p>Neither Visual Studio nor Git like to create the project/repo in a non empty directory, which is a problem for us because we want the Visual Studio project to be in the root directory of the repo.</p>
<p>So we are going to create the Visual Studio project in a directory inside the repo, then move it one level up.</p>
<p><img src="http://i.imgur.com/msPuayq.png" alt="VS01"></p>
<hr>
<p><img src="http://i.imgur.com/Tb3nxWZ.png" alt="VS02">
Make sure you check &quot;Create directory for solution&quot;, this way the c:\test\babylon.js directory will be used to store the .sln file and a new directory will be created in c:\test\babylon.js\babylon.js for the project file.</p>
<hr>
<p><img src="http://i.imgur.com/fZLlLQW.png" alt="VS03">
We select ASP.Net 4, don&#39;t try the 5 version Template: it&#39;s a lot of troubles right now.</p>
<h3><a name="move-the-project-one-level-up" class="anchor" href="#move-the-project-one-level-up"></a>Move the project one level up</h3><p>From Visual Studio, close the solution you just created, then go to the directory of the created project and move it one level up (c:\test\babylon.js\babylon.js\ will be moved to c:\test\babylon.js)</p>
<p><img src="http://i.imgur.com/bMRmkPc.png" alt="VS04"></p>
<p><em>Cut the directory...</em></p>
<hr>
<p><img src="http://i.imgur.com/fcnZDzu.png" alt="VS05"></p>
<p><em>Paste one level up.</em></p>
<hr>
<p><img src="http://i.imgur.com/BBFfRLE.png" alt="VS06"></p>
<p><em>The expected result</em></p>
<h3><a name="fix-the-visual-studio-solution-amp-project" class="anchor" href="#fix-the-visual-studio-solution-project"></a>Fix the Visual Studio Solution &amp; Project</h3><p>Go back to Visual Studio, open the solution.</p>
<p><img src="http://i.imgur.com/gTjX1m5.png" alt="VS07"></p>
<p><em>remove the dead project</em></p>
<hr>
<p><img src="http://i.imgur.com/hB7z6vU.png" alt="VS08"></p>
<p><em>add the new one</em></p>
<hr>
<h2><a name="3-include-the-babylonjs-source-code" class="anchor" href="#3-include-the-babylonjs-source-code"></a>3) Include the Babylon.js source code</h2><p>Now display all files in the solutions by clicking the &quot;Show All Files&quot; button to include the ones we care about.</p>
<p><img src="http://i.imgur.com/RkR1dFU.png" alt="VS09"></p>
<p><img src="http://i.imgur.com/9QKk7qn.png" alt="VS10"></p>
<p><em>We only need the &quot;src&quot; folder to compile Babylon.js.</em></p>
<p>Note: that further picture show a &quot;external references&quot; folder in the solution explorer, you don&#39;t need that anymore.</p>
<hr>
<p>When we included the &quot;src&quot; folder it also included the .js files corresponding to the .ts, we have to remove them from the project as we have no use of them. The quickest way is to edit the Visual Studio project file.</p>
<p>We will also fix the referenced nuget packages that are now incorrect because we moved the Visual Studio project one level up.</p>
<p>You need to unload the project from the solution to edit it.</p>
<p><img src="http://i.imgur.com/t0nOL17.png" alt="VS11"></p>
<p><img src="http://i.imgur.com/dvTYcR3.png" alt="VS12"></p>
<hr>
<p><img src="http://i.imgur.com/xvtScCd.png" alt="VS13"></p>
<p><img src="http://i.imgur.com/rMASFHL.png" alt="VS14"></p>
<p><em>get rid of all the .js files referenced</em></p>
<hr>
<p><img src="http://i.imgur.com/xDB1gvI.png" alt="VS15"></p>
<p><em>do a search/replace of &quot;..\packages&quot; by &quot;packages&quot;, replace all occurences.</em></p>
<hr>
<p>You will also have to add a line below the TypeScriptSourceMap element to enable TypeScriptExperimentalDecorators.</p>
<pre><code class="lang-xml">    &lt;TypeScriptSourceMap&gt;True&lt;/TypeScriptSourceMap&gt;
    &lt;TypeScriptExperimentalDecorators&gt;true&lt;/TypeScriptExperimentalDecorators&gt;
</code></pre>
<p>The result should look like this:</p>
<pre><code class="lang-xml">  &lt;PropertyGroup Condition=&quot;&#39;$(Configuration)|$(Platform)&#39; == &#39;Debug|AnyCPU&#39;&quot;&gt;
    &lt;TypeScriptTarget&gt;ES5&lt;/TypeScriptTarget&gt;
    &lt;TypeScriptJSXEmit&gt;None&lt;/TypeScriptJSXEmit&gt;
    &lt;TypeScriptCompileOnSaveEnabled&gt;True&lt;/TypeScriptCompileOnSaveEnabled&gt;
    &lt;TypeScriptNoImplicitAny&gt;False&lt;/TypeScriptNoImplicitAny&gt;
    &lt;TypeScriptModuleKind&gt;
    &lt;/TypeScriptModuleKind&gt;
    &lt;TypeScriptRemoveComments&gt;False&lt;/TypeScriptRemoveComments&gt;
    &lt;TypeScriptOutFile /&gt;
    &lt;TypeScriptOutDir /&gt;
    &lt;TypeScriptGeneratesDeclarations&gt;False&lt;/TypeScriptGeneratesDeclarations&gt;
    &lt;TypeScriptNoEmitOnError&gt;True&lt;/TypeScriptNoEmitOnError&gt;
    &lt;TypeScriptSourceMap&gt;True&lt;/TypeScriptSourceMap&gt;
    &lt;TypeScriptExperimentalDecorators&gt;true&lt;/TypeScriptExperimentalDecorators&gt;
    &lt;TypeScriptMapRoot /&gt;
    &lt;TypeScriptSourceRoot /&gt;
  &lt;/PropertyGroup&gt;
</code></pre>
<hr>
<p>Save and reload the project</p>
<p><img src="http://i.imgur.com/AmXRYZj.png" alt="VS16"></p>
<h3><a name="build" class="anchor" href="#build"></a>Build !</h3><p>Build the solution, all the .ts fils will be compiled to .js file along with .js.map file (needed for debugging).</p>
<p><img src="http://i.imgur.com/GIecIBA.png" alt="VS16"></p>
<h2><a name="4-create-a-small-sandbox" class="anchor" href="#4-create-a-small-sandbox"></a>4) Create a small sandbox</h2><p>You can grad the files:</p>
<ul>
<li><a href="/tutorials/setupVisual/sandbox.ts">sandbox.ts</a></li>
<li><a href="/tutorials/setupVisual/index.html">index.html</a></li>
<li><a href="/tutorials/setupVisual/Web.config">web.config</a></li>
</ul>
<p>Create a new TypeScript file in your project, don&#39;t forget to set the following lines:</p>
<pre><code class="lang-javascript">
BABYLON.Engine.CodeRepository = &quot;/src/&quot;;
BABYLON.Engine.ShadersRepository = &quot;/src/Shaders/&quot;;
</code></pre>
<p>These are needed when you don&#39;t work with the main .js file, the reason is that the Shaders are stored as variables in the main .js file, so when you don&#39;t use it the Engine must load the .fx files from the web server in the location you specified. This is why the sources must be stored in a location the web server can serve.</p>
<p><img src="http://i.imgur.com/gcd0WX0.png" alt="VS17"></p>
<p><em>TypeScript file</em></p>
<hr>
<p>Create a HTML file that will reference all the .js file of Babylon.js (the list can be found <a href="/generals/Creating_the_Mini-fied_Version">here</a>)</p>
<p><img src="http://i.imgur.com/srkwpF5.png" alt="VS18"></p>
<p><em>HTML page</em></p>
<hr>
<p><img src="http://i.imgur.com/9HMP6UN.png" alt="VS19"></p>
<p><em>Set the page as the startup one</em></p>
<hr>
<p>Finally we have to edit the web.config file to declare some file types (actually only .fx would suffice) that the web server would be allowed to serve.</p>
<p><img src="http://i.imgur.com/mKDOqMu.png" alt="VS20"></p>
<p><em>Add new files types in the web.config</em></p>
<hr>
<p><img src="http://i.imgur.com/Ee91e78.png" alt="VS21"></p>
<p><em>Build, run et voilà !</em></p>
<p>You can now debug the source code of Babylon.js along with yours.</p>
<p><img src="http://i.imgur.com/vtcjnQm.png" alt="VS22"></p>
</div></div></div><footer class="footer"><div class="footer-item"><a href="http://www.html5gamedevs.com/forum/16-babylonjs" target="_blank"><i class="fa fa-html5"></i>    Forum</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Babylon.js" target="_blank"><i class="fa fa-github"></i>    Github</a></div><div class="footer-item"><a href="https://github.com/BabylonJS/Documentation" target="_blank"><i class="fa fa-code-fork"></i>    Contribute</a></div><div class="footer-item"><a href="https://www.netlify.com" target="_blank"><i class="fa fa-heart"></i> Deployed by netlify            </a></div></footer><script src="/js/jquery.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/0.1.9/slideout.min.js"></script><script src="/js/index.js"></script><script>(function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            };
    i[r].l = 1 * new Date();
    a = s.createElement(o);
    m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-66146410-1', 'auto');
ga('send', 'pageview');</script><!-- HIGHLIGHT JS--><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/languages/javascript.min.js"></script><script src="/js/static.js"></script><script>$('code').each(function(){
    $(this).text($(this).text().replace(/&nbsp;/gi, ''));
});
hljs.initHighlightingOnLoad();</script></body></html>